"use strict";(self.webpackChunkreact_native_android_widget_docs=self.webpackChunkreact_native_android_widget_docs||[]).push([[1946],{2003:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var n=t(5893),d=t(1151);const s={sidebar_position:5},o="Register widget in Expo",r={id:"tutorial/register-widget-expo",title:"Register widget in Expo",description:"If we are using Expo for our app, we might not have access to the native android directory, so we cannot create/update the required files.",source:"@site/docs/tutorial/register-widget-expo.md",sourceDirName:"tutorial",slug:"/tutorial/register-widget-expo",permalink:"/react-native-android-widget/docs/tutorial/register-widget-expo",draft:!1,unlisted:!1,editUrl:"https://github.com/sAleksovski/react-native-android-widget/tree/master/docs/docs/tutorial/register-widget-expo.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"default",previous:{title:"Register widget",permalink:"/react-native-android-widget/docs/tutorial/register-widget"},next:{title:"Make Widget configurable (Optional)",permalink:"/react-native-android-widget/docs/tutorial/make-widget-configurable"}},a={},c=[{value:"Create widget preview image",id:"create-widget-preview-image",level:2},{value:"Add custom fonts used in widgets",id:"add-custom-fonts-used-in-widgets",level:2},{value:"Use config plugin in app.(json|config.js|config.ts)",id:"use-config-plugin-in-appjsonconfigjsconfigts",level:2},{value:"Build Dev Client",id:"build-dev-client",level:2}];function g(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",...(0,d.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"register-widget-in-expo",children:"Register widget in Expo"}),"\n",(0,n.jsx)(i.p,{children:"If we are using Expo for our app, we might not have access to the native android directory, so we cannot create/update the required files."}),"\n",(0,n.jsxs)(i.p,{children:["Expo provides ",(0,n.jsx)(i.a,{href:"https://docs.expo.dev/guides/config-plugins/",children:"Config Plugins"})," that can be used to configure the native android project."]}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.code,{children:"react-native-android-widget"})," exports a config plugin."]}),"\n",(0,n.jsx)(i.h2,{id:"create-widget-preview-image",children:"Create widget preview image"}),"\n",(0,n.jsx)(i.p,{children:"When the android launcher shows the widget select popup, we can show a screenshot of our widget to give the user an idea what the widget looks like."}),"\n",(0,n.jsxs)(i.p,{children:["Take a screenshot of the widget, and place it inside ",(0,n.jsx)(i.code,{children:"assets/widget-preview/hello.png"})]}),"\n",(0,n.jsx)("pre",{children:"assets/widget-preview/hello.png"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"Hello Widget Preview",src:t(6945).Z+"",width:"327",height:"208"})}),"\n",(0,n.jsx)(i.h2,{id:"add-custom-fonts-used-in-widgets",children:"Add custom fonts used in widgets"}),"\n",(0,n.jsx)(i.p,{children:"If we need custom fonts for our widgets, we can add them in the assets directory"}),"\n",(0,n.jsxs)(i.p,{children:["For example, ",(0,n.jsx)(i.code,{children:"assets/fonts/Inter.ttf"})]}),"\n",(0,n.jsxs)(i.h2,{id:"use-config-plugin-in-appjsonconfigjsconfigts",children:["Use config plugin in ",(0,n.jsx)(i.a,{href:"https://docs.expo.dev/workflow/configuration/",children:"app.(json|config.js|config.ts)"})]}),"\n",(0,n.jsxs)(i.p,{children:["In this example we are using ",(0,n.jsx)(i.code,{children:"app.config.ts"})," but the changes are similar for all configuration types."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",metastring:'title="app.config.ts"',children:"import type { ConfigContext, ExpoConfig } from 'expo/config';\nimport type { WithAndroidWidgetsParams } from 'react-native-android-widget';\n\nconst widgetConfig: WithAndroidWidgetsParams = {\n  // Paths to all custom fonts used in all widgets\n  fonts: ['./assets/fonts/Inter.ttf'],\n  widgets: [\n    {\n      name: 'Hello', // This name will be the **name** with which we will reference our widget.\n      label: 'My Hello Widget', // Label shown in the widget picker\n      minWidth: '320dp',\n      minHeight: '120dp',\n      // This means the widget's default size is 5x2 cells, as specified by the targetCellWidth and targetCellHeight attributes.\n      // Or 320\xd7120dp, as specified by minWidth and minHeight for devices running Android 11 or lower.\n      // If defined, targetCellWidth,targetCellHeight attributes are used instead of minWidth or minHeight.\n      targetCellWidth: 5,\n      targetCellHeight: 2,\n      description: 'This is my first widget', // Description shown in the widget picker\n      previewImage: './assets/widget-preview/hello.png', // Path to widget preview image\n\n      // How often, in milliseconds, that this AppWidget wants to be updated.\n      // The task handler will be called with widgetAction = 'UPDATE_WIDGET'.\n      // Default is 0 (no automatic updates)\n      // Minimum is 1800000 (30 minutes == 30 * 60 * 1000).\n      updatePeriodMillis: 1800000,\n    },\n  ],\n};\n\nexport default ({ config }: ConfigContext): ExpoConfig => ({\n  ...config,\n  name: 'My Expo App Name',\n  plugins: [['react-native-android-widget', widgetConfig]],\n});\n"})}),"\n",(0,n.jsx)(i.h2,{id:"build-dev-client",children:"Build Dev Client"}),"\n",(0,n.jsxs)(i.p,{children:["Build an ",(0,n.jsx)(i.a,{href:"https://docs.expo.dev/development/create-development-builds/",children:"Expo Dev Client"})," that will include ",(0,n.jsx)(i.code,{children:"react-native-android-widget"})," and the new widget"]})]})}function l(e={}){const{wrapper:i}={...(0,d.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(g,{...e})}):g(e)}},6945:(e,i,t)=>{t.d(i,{Z:()=>n});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAADQCAYAAACUXaMkAAAABHNCSVQICAgIfAhkiAAACTdJREFUeJzt3UtoXAUbgOFvJslMc/FSFItCK1YqUhAiukh0YV0o1p3QhZeVgiAiuhJERJGibkSxbisKgghqiYvWhYIomjYgqLgRrCItKO1CzMUkc0nmX0iHhn7NP5PMJBn7PBA4J+cyX6F9OWfmJC3MzMw0AoAVips9AMBWJI4ACXEESIgjQEIcARLiCJDo7/YLFAqFbr8EcIlqNLr3JGLH41gul6NUKnX6tACrqlarUalUOna+jsSxUCjE0NBQFIvu0oHNUSqVolQqxfLycszPz6/7qnLdcXSlCGwlxWIxRkZG1n0lua5LveHhYWEEtqRSqRTDw8NrPn7NcRweHnYbDWxpxWJxzYFcU90GBweFEegJxWIxBgcH2z+u3QMGBgaiv7/rTwABdEx/f3/b3Wo7jtu2bWv3EIBN1+7VY1txLJfLbZ0cYCtpp2FtxdEn00Ava6dhPlUBSLQcR+81Av8Frbas5Tj6hBr4L2i1ZS3H0W/XAf4LWm2Z9xwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCMxPj4eY2NjMTY2FsePH2/5uMnJyeZxY2NjXZvvjz/+WPV1Dh482Nz23HPPdW0OLi39mz0Am29qaioajUZERExPT7d83PT0dExNTXVrrKZKpbLq6/z222/N7dddd13X5+HS4MoRICGOAAlxBEh4z5ENV6vVYmlpKfr6+mJgYGBTZlheXo56vR7Ly8vR398f/f3+KbCSK0c2zPj4eJRKpSiVSjE4OBilUikGBgbijjvu2LAZfvnll7jiiiuir68vyuVyDA4OxsDAQAwNDcWLL764YXOw9YkjXff5559HoVCIEydORK1WW7GtXq/H8ePHo6+vL7744ouuznHnnXfGTTfdFDMzMxdsW1hYiIMHD8bQ0FAsLCx0dQ56g3sJumpycjLuvffe5nqhUIgnn3wy9u7dGz///HO8/fbbEfHvbe4999wTp06dip07d3Z8jltvvTV++OGH5nq5XI4nnngitm/fHhMTE81tCwsLcfnll18QcS494khX3X333c3lAwcOxEcffbRi+6FDh+LAgQPxySefRETErl27ms9cdsqRI0dWhPGtt96Kp59+urn+0ksvxenTp2P37t1Rr9ejXq/Hjh074syZMx2dg97itpoV9u/fH4VCoaWv+++/f9Vzvf7661GtViMiYs+ePReE8ZyPP/44SqVSc/2nn37q3B8oIh5++OHm8iOPPLIijOfs3Lkzfvzxx+b62bNn4++//+7oHPQWcaRr3njjjebyxMTEqvu+//77zeU333yzYzPMz89HpVJprr/zzjsX3Xfv3r2xffv25vqzzz7bsTnoPeJI1/z555/N5ZtvvjmWl5cv+nX77bc393333Xc7NsOnn37aXC4UClEul1fd//xPrA8fPtyxOeg94sgKx44dWzVi538dPXq05fP29fWt+nXjjTd25c/z7bffNpfPf//zYsbHx7syB73HBzKscO79xFb33erOf//ymmuu+b/7j4yMdHMceog4siG+/PLLTXnd0dHR+PrrryNi5W3+xWTPQHJpEkc2xL59+zblde+66644dOhQRER89dVX/3f/b775ptsj0SO850jX7Nixo7l87NixTZnhvvvuW7E+Nze36v6vvPJKc/mZZ57pykz0BnGka5566qnm8mOPPbbqvo8//ngUi8V49NFHY3JysmMzDA0NxbZt25rrDz744EX3nZqaWvHLfl999dWOzUHvEUe65oUXXohi8d+/YmfOnIldu3bF0tLSBftNTEzE4cOHo9FoxHvvvdfxD3o+++yz5vLRo0fj+eefv2CfU6dOrfgvGK6++uoYGhrq6Bz0FnGkq87/sb3Tp09Hf39/XHnllfHQQw/FDTfcEIODg/HAAw809xkeHu744zT79u2L0dHR5vprr70WAwMDcdVVV8WePXtiZGQkrr/++ub2YrEYZ8+e7egM9B5xpKtuueWW+O6771Z8b3p6Oj788MP4/fffY3Fxsfn93bt3x+zsbFfm+P7771dEuF6vx19//RUnT56Mf/75p/n94eHhmJ2d7YnHlOgucaTrbrvttqjVavHyyy+n20dHR+PEiRPx66+/djVKR44ciZMnT8b+/fsv2HbttdfGBx98EHNzc26niYiIwszMTEu/AuWyyy7r9iwAG6KVOxRXjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgIQ4AiTEESAhjgAJcQRIiCNAQhwBEuIIkBBHgETLcWw0Gt2cA2BDtNqyluNYq9XWPAzAVtFqy1qOY6VSWfMwAFtFqy1r6z1Ht9ZAL2unYW3F0dUj0MsWFxdb3retONZqNVePQE9qNBpRr9db3r/tR3nm5+fbPQRg07XbrrbjuLy87PYa6CmVSiWWl5fbOmZND4FXq1WP9gA9oVarRbVabfu4Nf+EzOLioitIYEurVCptfQhzvnX9+GC1Wo25ubn1nAKgK+bm5tZ0xXhO/3oHaDQaMTs7G6VSKcrl8npPB7AulUplXVE8Z91xPKdarUa1Wo2+vr4olUrR39+xUwOsql6vR7VajaWlpY6ds+MFW1paioWFhU6fFmBD+ZVlAAlxBEiII0BCHAES4giQEEeAhDgCJP4H6/Y8YKqxICUAAAAASUVORK5CYII="},1151:(e,i,t)=>{t.d(i,{Z:()=>r,a:()=>o});var n=t(7294);const d={},s=n.createContext(d);function o(e){const i=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),n.createElement(s.Provider,{value:i},e.children)}}}]);